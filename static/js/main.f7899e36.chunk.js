(this["webpackJsonpmaharatek-app"]=this["webpackJsonpmaharatek-app"]||[]).push([[0],{44:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),s=n.n(c),i=(n(44),n(45),n(46),n(47),n(13)),o=n(4),l=n(18),d=n(14),j=n.n(d),u=n(17),h=n(5),b=n(6),p=n(8),m=n(7),O=n(2),x=n(15),f=n.n(x),v=n(28),g=n(0),y=function(e){return Object(g.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(g.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(g.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(i.c,{className:"nav-link",to:"/menu",children:"Menu"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(i.c,{className:"nav-link",to:"/cart",children:"Shopping Cart"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(i.c,{className:"nav-link",to:"/admin",children:"Admin"})})]}),Object(g.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(g.jsx)("li",{className:"nav-item m-2",children:Object(g.jsxs)("span",{className:"badge badge-primary",children:[Object(g.jsx)("i",{style:{color:"white"},className:"fas fa-cart-plus"}),e.productCount]})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(i.c,{className:"nav-link",to:"/login",children:"Login"})})]})]})})},N=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getClasses=function(){return 0===e.props.product.count?"badge badge-warning m-2":"badge badge-primary m-2"},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.product,n=e.onIncrement,r=e.onDelete;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-md-2",children:Object(g.jsx)("span",{children:Object(g.jsx)(i.b,{to:"products/".concat(t.id),children:t.name})})}),Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("span",{className:this.getClasses(),children:t.count}),Object(g.jsx)("button",{onClick:function(){return n(t)},className:"btn btn-primary btn-sm",children:"+"}),Object(g.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return r(t)},children:Object(g.jsx)("i",{className:"fas fa-trash mx-2"})})]})]})})}}]),n}(r.Component),C=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onIncrement,n=e.onDelete,r=e.onReset;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{className:"text-center",children:"Shopping Cart"}),Object(g.jsx)("button",{onClick:r,className:"btn btn-secondary btn-sm m-2",children:"Reset"}),this.props.products.map((function(e){return Object(g.jsx)(N,{product:e,onDelete:n,onIncrement:t},e.id)}))]})}}]),n}(r.Component),k=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"py-5",children:Object(g.jsxs)("div",{className:"jumbotron",children:[Object(g.jsx)("h1",{className:"display-4 text-center",style:{color:"red"},children:"choose your order from the Menu !!"}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsx)("p",{style:{color:"grey"},className:"",children:"This is test website a simple restaurant with crud operation and call the Api"}),Object(g.jsxs)("p",{style:{color:"black",fontSize:"bold"},className:"text-center",children:["You can choose from the menu below and click on the icon then you will see the order on the shopping cart ",Object(g.jsx)("br",{}),"you can add the amount, reset or delete the order",Object(g.jsx)("br",{}),'The Admin page you can add , edit and delete and it will be affected on the backend "http://localhost:3000/products/"']})]})})})}}]),n}(r.Component),w=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleSave=function(){e.props.history.replace("/cart")},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.match,r=t.filter((function(e){return e.id===parseInt(n.params.id)}))[0];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{children:["Details No:",n.params.id]}),Object(g.jsx)("h2",{children:r.name}),Object(g.jsxs)("h3",{children:["Count in shopping cart :",r.count]}),Object(g.jsx)("button",{onClick:this.handleSave,className:"btn btn-primary btn-sm",children:"Save"})]})}}]),n}(r.Component),S=function(e){var t=e.product.isInCart?{cursor:"pointer"}:{color:"#80808080",cursor:"pointer"};return Object(g.jsx)("i",{style:t,onClick:function(){return e.onClick(e.product)},className:"fas fa-cart-plus"})},F=function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Menu"}),Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:e.products.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.name}),Object(g.jsx)("td",{children:t.price}),Object(g.jsx)("td",{children:Object(g.jsx)(S,{onClick:e.onClick,product:t})})]},t.id)}))})]})]})},I=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(g.jsx)("h1",{className:"text-center",children:"404 page"})})})}}]),n}(r.Component),A=n(39),D=n(23),E=n.n(D),P=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",errors:{}},e.schema={username:E.a.string().required(),password:E.a.string().required()},e.handleSubmit=function(t){t.preventDefault(),e.validate()||console.log("submit")},e.validate=function(){var t={},n=Object(o.a)({},e.state);delete n.errors;var r=E.a.validate(n,e.schema,{abortEarly:!1});if(null===r.error)return e.setState({errors:{}}),null;var a,c=Object(A.a)(r.error.details);try{for(c.s();!(a=c.n()).done;){var s=a.value;t[s.path]=s.message}}catch(i){c.e(i)}finally{c.f()}return e.setState({errors:t}),t},e.handleChange=function(t){var n=Object(o.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("input",{name:"username",value:this.state.username,onChange:this.handleChange,autoFocus:!0,id:"username",type:"text",className:"form-control"}),this.state.errors.username&&Object(g.jsx)("div",{className:"alert alert-danger",children:this.state.errors.username})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{name:"password",value:this.state.password,onChange:this.handleChange,id:"password",type:"text",className:"form-control"}),this.state.errors.password&&Object(g.jsx)("div",{className:"alert alert-danger",children:this.state.errors.password})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(r.Component),T=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.onDelete,r=e.history;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Admin"}),Object(g.jsx)("button",{onClick:function(){return r.push("/productForm/new")},className:"btn btn-primary my-2",children:"Add"}),Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:t.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.price}),Object(g.jsx)("td",{children:Object(g.jsx)("i",{onClick:function(){return r.push("/productForm/".concat(e.id))},className:"fas fa-edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("i",{onClick:function(){return n(e)},className:"fas fa-trash"})})]},e.id)}))})]})]})}}]),n}(r.Component),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:"",name:"",price:""},e.handleSubmit=function(){var t=Object(u.a)(j.a.mark((function t(n){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"new"!==e.props.match.params.id){t.next=7;break}return r=Object(o.a)(Object(o.a)({},e.state),{},{count:0,isInCart:!1}),t.next=5,f.a.post("http://localhost:3000/products/",r);case 5:t.next=11;break;case 7:return delete(a=Object(o.a)(Object(o.a)({},e.state),{},{count:0,isInCart:!1})).id,t.next=11,f.a.put("http://localhost:3000/products/"+e.state.id,a);case 11:e.props.history.replace("/admin");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=Object(o.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===(t=this.props.match.params.id)){e.next=11;break}return e.next=4,f.a.get("http://localhost:3000/products/"+t);case 4:n=e.sent,r=n.data,(a=Object(o.a)({},this.state)).name=r.name,a.price=r.price,a.id=r.id,this.setState(a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"new"===this.props.match.params.id?"Add Product":"Edit Product"}),Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{id:"name",name:"name",value:this.state.name,onChange:this.handleChange,type:"text",className:"form-control"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"price",children:"Price"}),Object(g.jsx)("input",{id:"price",name:"price",value:this.state.price,onChange:this.handleChange,type:"text",className:"form-control"})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"new"===this.props.match.params.id?"Add ":"Edit "})]})]})}}]),n}(r.Component),R=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={products:[]},e.componentDidMount=Object(u.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("http://localhost:3000/products/");case 2:n=t.sent,r=n.data,e.setState({products:r});case 5:case"end":return t.stop()}}),t)}))),e.handleReset=function(){var t=Object(l.a)(e.state.products);t=t.map((function(e){return e.count=0,e})),e.setState({products:t})},e.IncrementHandler=function(t){var n=Object(l.a)(e.state.products),r=n.indexOf(t);n[r]=Object(o.a)({},n[r]),n[r].count++,e.setState({products:n})},e.handleDelete=function(){var t=Object(u.a)(j.a.mark((function t(n){var r,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(l.a)(e.state.products),a=Object(l.a)(e.state.products),c=a.indexOf(n),a.splice(c,1),e.setState({products:a}),t.prev=5,t.next=8,f.a.delete("http://localhost:3000/products/"+n.id);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),v.b.error("Can't Delete"),e.setState({products:r});case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleInCartChange=function(t){var n=Object(l.a)(e.state.products),r=n.indexOf(t);n[r]=Object(o.a)({},n[r]),n[r].isInCart=!n[r].isInCart,e.setState({products:n})},e.handleEdit=function(){console.log("edit")},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)(v.a,{}),Object(g.jsx)(y,{productsCount:this.state.products.filter((function(e){return e.isInCart})).length}),Object(g.jsx)("main",{className:"container",children:Object(g.jsxs)(O.d,{children:[Object(g.jsx)(O.b,{path:"/products/:id/:name?",render:function(t){return Object(g.jsx)(w,Object(o.a)({products:e.state.products},t))}}),Object(g.jsx)(O.b,{path:"/login",component:P}),Object(g.jsx)(O.b,{path:"/cart",render:function(t){return Object(g.jsx)(C,Object(o.a)({products:e.state.products.filter((function(e){return e.isInCart})),onIncrement:e.IncrementHandler,onDelete:e.handleInCartChange,onReset:e.handleReset},t))}}),Object(g.jsx)(O.b,{path:"/notfound",component:I}),Object(g.jsx)(O.b,{path:"/menu",render:function(t){return Object(g.jsx)(F,Object(o.a)(Object(o.a)({},t),{},{products:e.state.products,onClick:e.handleInCartChange}))}}),Object(g.jsx)(O.b,{path:"/productForm/:id",component:M}),Object(g.jsx)(O.b,{path:"/admin",render:function(t){return Object(g.jsx)(T,Object(o.a)(Object(o.a)({},t),{},{products:e.state.products,onDelete:e.handleDelete,onEdit:e.handleEdit}))}}),Object(g.jsx)(O.b,{path:"/home",component:k}),Object(g.jsx)(O.a,{from:"/",exact:!0,to:"/home"}),Object(g.jsx)(O.a,{to:"/notfound"})]})})]})}}]),n}(r.Component);s.a.render(Object(g.jsx)(i.a,{children:Object(g.jsx)(R,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.f7899e36.chunk.js.map